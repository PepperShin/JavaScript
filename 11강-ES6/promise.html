<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script>
        // 프라미스의 이해
        // const promise = new Promise((resolve, reject) => {
        //     resolve("이행된 값");
        // });

        // promise.then((value) => {
        //     console.log(value);
        // });
        //두번째 예제
        const promise = new Promise((resolve, reject) => {
            // 친구에게 저녁 식사 약속을 합니다.
            setTimeout(() => {
            if (Math.random() > 0.5) {
                // 약속이 이행되었습니다.
                resolve(
                "약속이 이행되었습니다. 레스토랑에 가서 식사를 할 수 있습니다."
                );
            } else {
                // 약속이 거부되었습니다.
                reject(
                "약속이 거부되었습니다. 친구가 아파서 저녁 식사를 할 수 없습니다."
                );
            }
            }, 1000);
        });

        promise
            .then((result) => {
            // 약속이 이행되면 실행
            console.log(result); // "약속이 이행되었습니다. 레스토랑에 가서 식사를 할 수 있습니다." 또는 "약속이 거부되었습니다. 친구가 아파서 저녁 식사를 할 수 없습니다."
            })
            .catch((error) => {
            // 약속이 거부되면 실행
            console.log(error); // "친구가 아파서 저녁 식사를 할 수 없습니다."
            });


        const promise2 = new Promise((resolve, reject) => {
            setTimeout(() => {
                console.log('1번 실행 되었습니다.');
                resolve('성공하였습니다');
            }, 1000);
        })

        promise2.then((response) => {
            console.log(response);
            setTimeout(() => {
                console.log('2번 실행 되었습니다.');
            }, 1000);

            return '성공'
        }).then((response) => {
            console.log(response);
            setTimeout(() => {
                console.log('3번 실행 되엇습니다.');
            }, 1000)
        })
        // then 지옥...

        
    </script>
  </head>
  <body></body>
</html>
